<!DOCTYPE html>
<html lang="en">
<head>
	<title>JS FE</title> 
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1"> 
	<meta name="keywords" content="Js HTML CSS markup front-end">
	<link rel="stylesheet"  href="main.css" >
</head>
<body>



<script>
//1111111
	// вспомогательные функции и комбинации функций

	let ar2 = [-1,4,-2,3,5,-87,6, 5, 6, 43, 24, 55, -43];

	function filterArray(a,check){
		let arr = [];
		let index = 0;
		for(let i = 0; i < a.length; i++){
			if(check(a[i])){
				arr[index] = a[i];
				index++;
			}
		}
		console.log(arr);
	}

	function isNegative(n){
		return n < 0; // if n<0 returns true, else - false
	}
	function isCh(n){
		return n %2 == 0; // if n%2 == 0 returns true, else - false
	}

	filterArray(ar2, isNegative);
	filterArray(ar2, isCh);

	// cо строками можем работать, как с массивами - через индекс буквы и использовать длину
	// строки не мутабельны

	// суммируем цифры внутри числа, пока не получим результат меньше 9

	function sumNums(n){
		let num = n.toString(); // n + '' => convert number to string
		let sum = 0;
		for(let i = 0; i < num.length; i++){
			sum += +num[i];
		}

		if(sum > 9){
			sumNums(sum);
		}
		else{
			console.log(sum);
		}
	}

	sumNums(4718962);


	// sum arr
	let arr = [1,[2,[3,[4,5]]], [6,[7],8,[9,[10,11,[12,13,14,[15]]]]]];

	function sumArr(a){
		let sum = 0;
		for(let i = 0; i < a.length; i++){
			if(a[i].length > 0){
				sum += sumArr(a[i]);
			}
			else{
				sum += a[i];
			}
		}
		return sum;
	}

	console.log(sumArr(arr));


	// str by sym

	function printStr(s){
		for(let char of s){
			console.log(char);
		}
	}

	// printStr('Hello');
	// printStr('Javascript');

	function mulArr(a,multiplier){
		let arr = [];
		let index = 0;
		for(let num of a){
			arr[index] = num*multiplier;
			index++;
		}
		console.log(arr);
	}

	mulArr(ar2, 2);



	// count letter instances in string

	function countLetter(str, letter){
		let sum = 0;
		for(let i = 0; i < str.length; i++){
			if(str[i] == letter){
				sum += 1; 
			}	
		}
		return sum;
	}

	console.log(countLetter('hello','l' ));
	console.log(countLetter('Bubble','b' ));


	function strToArr(str){
		let arr = [];
		for(let i = 0; i < str.length; i++){
			arr[i] = str[i];
		}
		console.log(arr);
	}

	strToArr('Hello, Javascript');


	function wordsToArr(str){
		let arr = [];
		let index = 0;
		let word = '';

		for(let i = 0; i <= str.length; i++){
			// перебираем строку по символам
			if(str[i] != ' '){ // если символ не пробел
				word += str[i]; // дописываем символ в слово
			}
			else{ // если символ - пробел
				arr[index] = word; // записываем слово в массив
				word = ''; // слово очищаем
				index++;	// индекс элементов в массиве увеличиваем на 1
			}

			if( i == str.length -1 ){ // если дошли до последнего символа и он не  пробел
				arr[index] = word; // добавляем последнее слово в массив
			}

		}
		console.log(arr); // выводим массив слов
	}

	wordsToArr('London is a capital of Great Britain :)');


	// замыкания

	let name = 'Masha';

	function sayHi(){
		let phrase = `Hello, ${name}`; // 'Hello, ' + name
		console.log(phrase);
	}

	sayHi();

	name = 'Dasha';
	sayHi(name);


	function makeCounter(){
		let count = 0;

		return function(){
			console.log(++count);
		}
	}


	let counter = makeCounter();
	counter();
	counter();
	counter();
	counter();

	let counter2 = makeCounter();
	counter2();
	counter2();


	// остаточные параметры и оператор расширения


	function sum(){
		let res = 0;
		for(let i = 0; i < arguments.length; i++){
			res += arguments[i];
		}
		console.log(res);
	}

	sum(1,2,3,4);

	// оператор расширения
	// collection to elements
	sum(...ar2);

	console.log(Math.min(1,2,3,4));
	console.log(Math.min(...ar2));


	// остаточные параметры

	function greet(phrase, name, ...restOfAll){
		let msg = `${phrase}, ${name}`;
		for(let arg of restOfAll){
			msg += ' ' + arg ;
		}
		console.log( msg);
	}

	greet("Good afternoon", 'Jane', 'Doe');
	greet('Good evening', 'Sir', 'Arthur', 'James', 'Dale');


	function count(a, b, ...something){
		console.log(a+b);
		console.log(something);
	}

	count(2,3,4,5,6);

	// оператор расширения используется в вызове функции и разбивают массив на элементы, а остаточные параметры при описании параметров (аргументов) функции и собирают лишние аргументы в массив




</script>

</body>
</html>
